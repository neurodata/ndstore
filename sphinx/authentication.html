

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Authentication &mdash; ndstore v0.7.0 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/neurodata_favicon.ico"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="ndstore v0.7.0 documentation" href="../index.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> ndstore
          

          
            
            <img src="../_static/neurodata_main.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                v0.7.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <p class="caption"><span class="caption-text">NeuroData Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="datamodel.html">Data Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="console.html">Administrator Console</a></li>
<li class="toctree-l1"><a class="reference internal" href="ingesting.html">How to Ingest Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="config.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">Frequently Asked Questions (FAQ)</a></li>
</ul>
<p class="caption"><span class="caption-text">API Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api/nd_types.html">NeuroData Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/info_api.html">Project Info API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/public_api.html">Public Token API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/data_api.html">Data API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/slice_api.html">Slice API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/ramon_api.html">RAMON API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/propagate_api.html">Propagate API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/autoingest_api.html">Auto-Ingest API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/resource_api.html">Resources API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/tile_api.html">Tile API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/nifti_api.html">NIFTI API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/swc_api.html">SWC API</a></li>
</ul>
<p class="caption"><span class="caption-text">Further Reading</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api/functions.html">NeuroData Functions</a></li>
<li class="toctree-l1"><a class="reference external" href="https://groups.google.com/forum/#!forum/ocp-support/">Mailing List</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/neurodata/ndstore">Github repo</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/neurodata/ndstore/releases/">Release Notes</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">ndstore</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
    <li>Authentication</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/sphinx/authentication.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="authentication">
<h1>Authentication<a class="headerlink" href="#authentication" title="Permalink to this headline">Â¶</a></h1>
<p><strong>Overview</strong>
The security authentication for ndstore applies to any endpoint that is specified as secured for non-public data. The docs are broken into three parts; user access, endpoint security and tests. If you are a user of the service you should only need to deal with the first section. If you are writing endpoints for ndstore then you should review the later two sections as well.</p>
<p><strong>Interacting with the Endpoints</strong>
In order to access certain endpoints and datasets, you need to provide the security token associated with your account. To do this add a header to your request called Authorization with a value of &#8220;Token {}&#8221; where your security token is added in place of the {}. For python requests this can be done with: requests.get(url, headers={&#8216;Authorization&#8217;: &#8216;Token {}&#8217;.format( TOKEN_SUPER )}). You may additionally need to add a verify=False to the request if the server is not HTTPS registered/secured. Your token can be downloaded from the website, or fi you are a neurodata partner you may be able to programatically obtain it.</p>
<p><strong>Securing an Endpoint</strong>
In order to secure an endpoint there are a number of decorators that should be added to the views method. First is the &#64;api_view([&#8216;GET&#8217;,&#8217;POST&#8217;]) decorator, which specifies what types of HTTP requests can be sent to this endpoint. For example if the decorator &#64;api_view([&#8216;GET&#8217;]) is added above the method then only GET requests can be made to this endpoint. Next is the &#64;authentication_classes((SessionAuthentication, TokenAuthentication)) decorator, which specifies the types of authentication that are required when using a specific endpoint. In this example case above, the endpoint can be accessed using both token based authentication and session based authentication. However if desired only a single type of authentication can be specified, which is recommended for endpoints that should only be accessed with token based authentication. Finally, adding the &#64;permission_classes((PublicAuthentication,)) decorator will add the user authentication for the endpoint. Specifically it will use the permission class created for the backend that allows access if the data is public or owned by the user requesting it (or the user is a super user). Alternatively if you wish to use a different permission class (for example allowing any users that identify themselves) simply specify that instead.</p>
<p><strong>Security Testing</strong>
As outlined above, in order to access non-private data the user must send a token with the request to identify themselves to the backend. In order to test that users do not have the ability to view datasets they do not own, two users are created in the backend during set up of the server, a super user with full permissions to every dataset and a &#8220;temporary&#8221; user that only has access to one dataset. When the tests are run the tests read the files that hold the tokens for the two users and make sample calls to the backend.</p>
</div>


           </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, NeuroData Project.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'v0.7.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>
#m.PHONY : clean

# Make file for Unix Systems

all: clean ndlib.so

ndlib.so : filterCutout.o filterCutoutOMP.o locateCube.o annotateCube.o shaveCube.o mergeCube.o annotateEntityDense.o shaveDense.o exceptionDense.o overwriteDense.o zindex.o recolorCube.o zoomData.o quicksort.o isotropicBuild.o
	gcc -shared -fopenmp -O3 -o ndlib.so filterCutout.o filterCutoutOMP.o locateCube.o annotateCube.o shaveCube.o mergeCube.o annotateEntityDense.o shaveDense.o exceptionDense.o overwriteDense.o zindex.o recolorCube.o zoomData.o quicksort.o isotropicBuild.o -I .

filterCutout.o : filterCutout.c
	gcc -c -fPIC -O3 filterCutout.c -o filterCutout.o -I .

filterCutoutOMP.o : filterCutoutOMP.c
	 gcc -c -fopenmp -fPIC -O3 filterCutoutOMP.c -o filterCutoutOMP.o -I .

locateCube.o : locateCube.c
	gcc -c -fPIC -O3 locateCube.c -o locateCube.o -I .

annotateCube.o : annotateCube.c
	gcc -c -fPIC -O3 annotateCube.c -o annotateCube.o -I .

shaveCube.o : shaveCube.c
	gcc -c -fPIC -O3 shaveCube.c -o shaveCube.o -I .

mergeCube.o : mergeCube.c
	gcc -c -fPIC -O3 mergeCube.c -o mergeCube.o -I .

annotateEntityDense.o : annotateEntityDense.c
	gcc -c -fPIC -O3 annotateEntityDense.c -o annotateEntityDense.o -I .

shaveDense.o : shaveDense.c
	gcc -c -fPIC -O3 shaveDense.c -o shaveDense.o -I .

exceptionDense.o : exceptionDense.c
	gcc -c -fPIC -O3 exceptionDense.c -o exceptionDense.o -I .

overwriteDense.o : overwriteDense.c
	gcc -c -fPIC -O3 overwriteDense.c -o overwriteDense.o -I .

zindex.o : zindex.c
	gcc -c -fPIC -O3 zindex.c -o zindex.o -I .

recolorCube.o : recolorCube.c
	gcc -c -fopenmp -fPIC -O3 recolorCube.c -o recolorCube.o -I .

zoomData.o : zoomData.c
	gcc -c -fopenmp -fPIC -O3 zoomData.c -o zoomData.o -I .

quicksort.o : quicksort.c
	gcc -c -fPIC -O3 quicksort.c -o quicksort.o -I .

isotropicBuild.o : isotropicBuild.c
	gcc -c -fPIC -O3 isotropicBuild.c -o isotropicBuild.o -I .

test : clean testmain.c 
	gcc -ggdb testmain.c quicksort.c -o test -I .

clean :
	-rm -vf ndlib.so zindex.o locateCube.o annotateCube.o shaveCube.o mergeCube.o annotateEntityDense.o shaveDense.o exceptionDense.o overwriteDense.o filterCutout.o filterCutoutOMP.o recolorCube.o zoomData.o quicksort.o isotropicBuild.o test
